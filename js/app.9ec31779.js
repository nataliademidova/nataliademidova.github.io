(function(e){function t(t){for(var a,l,i=t[0],u=t[1],s=t[2],d=0,f=[];d<i.length;d++)l=i[d],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&f.push(r[l][0]),r[l]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);c&&c(t);while(f.length)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(a=!1)}a&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},r={app:0},o=[];function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var c=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"01d7":function(e,t,n){},"0a90":function(e,t,n){"use strict";var a=n("9b8f"),r=n.n(a);r.a},"146f":function(e,t,n){"use strict";var a=n("1b70"),r=n.n(a);r.a},"15e8":function(e,t,n){"use strict";var a=n("01d7"),r=n.n(a);r.a},"1b70":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=(n("599e"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("BaseLayout",{attrs:{"is-open":e.isOpen},scopedSlots:e._u([{key:"info",fn:function(){return[n("base-info",{attrs:{info:e.info},on:{"close-info":e.handleCloseInfo}})]},proxy:!0}])},[n("TableGrid",{on:{"open-info":e.handleOpenInfo,"close-info":e.handleCloseInfo}})],1)],1)}),o=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ag-grid-vue",{staticClass:"ag-theme-alpine",staticStyle:{height:"calc(100vh - 60px)"},attrs:{columnDefs:e.columnDefs,rowData:e.rowData,rowSelection:"multiple"},on:{"grid-ready":e.onGridReady,"data-model-changed":e.dataModelChanged,"selection-changed":e.onSelectionChanged,"row-selected":e.onRowSelected}})},i=[],u=n("401b"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"salary-edit"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.value.currency,expression:"value.currency"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.value,"currency",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"RUB"}},[e._v("RUB")]),n("option",{attrs:{value:"USD"}},[e._v("USD")]),n("option",{attrs:{value:"EUR"}},[e._v("EUR")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.value.value,expression:"value.value"}],staticClass:"base-input",attrs:{type:"number",size:"10"},domProps:{value:e.value.value},on:{input:function(t){t.target.composing||e.$set(e.value,"value",t.target.value)}}})])},c=[],d={name:"SalaryEditRow",data:function(){return{value:null}},beforeMount:function(){this.value=this.params.value},watch:{value:{deep:!0,handler:function(e,t){t&&(this.value.status="updated")}}},methods:{getValue:function(){return this.value},setValue:function(e){this.value=e},isCancelBeforeStart:function(){return!1},isCancelAfterEnd:function(){return!1}}},f=d,v=(n("15e8"),n("2877")),p=Object(v["a"])(f,s,c,!1,null,"2c32ff29",null),m=p.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["currency","status-"+e.params.value.status]},[e.params.value.status?n("div",{staticClass:"comment"},[e.isAgreed?n("span",[e._v("🙂")]):n("span",[e._v("🗨")])]):e._e(),e._v("\n\n  "+e._s(e._f("currency")(e.params.value))+"\n")])},y=[],g=(n("c5f6"),{filters:{currency:function(e){var t=e.value,n=e.currency,a=Number(t);return isNaN(t)||(a=Number(t).toFixed(0)),n?"".concat(n," ").concat(a):a}},computed:{isAgreed:function(){return"agreed"===this.params.value.status}}}),_=g,b=(n("0a90"),Object(v["a"])(_,h,y,!1,null,"4c007830",null)),w=b.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  "+e._s(e.params.value.join(", "))+"\n")])},O=[],R={name:"TagsRow"},C=R,x=Object(v["a"])(C,S,O,!1,null,"49d0086d",null),N=x.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{multiple:"",size:"2"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.value=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"пересмотр в августе"}},[e._v("Пересмотр в августе")]),n("option",{attrs:{value:"ожидал большего"}},[e._v("Ожидал большего")]),n("option",{attrs:{value:"риск ухода"}},[e._v("Риск ухода")])])])},j=[],A={name:"TagsEditRow",data:function(){return{value:null}},beforeMount:function(){this.value=this.params.value},methods:{getValue:function(){return this.value},setValue:function(e){this.value=e},isCancelBeforeStart:function(){return!1},isCancelAfterEnd:function(){return!1}}},$=A,k=Object(v["a"])($,E,j,!1,null,"78538293",null),D=k.exports,B=[{headerName:"Сотрудник",field:"employee",rowSelection:!0,checkboxSelection:!0},{headerName:"Должность",field:"position",rowSelection:!0},{headerName:"Менеджер",field:"manager"},{headerName:"Город",field:"city"},{headerName:"Актуальная ЗП",field:"salary",cellRendererFramework:"SalaryShowRow"},{headerName:"Пересмотр ЗП",field:"new_salary",cellRendererFramework:"SalaryShowRow",cellEditorFramework:"SalaryEditRow",width:230,editable:!0},{headerName:"Дельта",field:"delta",width:100},{headerName:"Комментарий",field:"comment",editable:!0,minWidth:300},{headerName:"Теги",field:"tags",cellEditorFramework:"TagsEditRow",cellRendererFramework:"TagsRow",editable:!0}],P=[{employee:"Ivanov Ovan",position:"Programmer",manager:"Nimov Nimovich",city:"Vologda",salary:{currency:"RUB",value:2e5},new_salary:{currency:"RUB",value:201e3,status:"discussion"},delta:.3,comment:"text",tags:[]},{employee:"Ivanov Ovan",position:"Programmer",manager:"Nimov Nimovich",city:"Saint-Peterburg",salary:{currency:"USD",value:2e3},new_salary:{currency:"USD",value:3e3,status:"agreed"},delta:.3,comment:"Рыбатекст используется дизайнерами",tags:["риск ухода"]},{employee:"Ivanov Ovan",position:"Programmer",manager:"Nimov Nimovich",city:"Msk",salary:{currency:"USD",value:2e3},new_salary:{currency:"EUR",value:6e3,status:"agreed"},delta:.3,comment:"",tags:["пересмотр в августе"]}],U={name:"App",data:function(){return{columnDefs:null,rowData:null,gridApi:null,columnApi:null}},components:{AgGridVue:u["AgGridVue"],SalaryShowRow:w,SalaryEditRow:m,TagsRow:N,TagsEditRow:D},beforeMount:function(){this.columnDefs=B,this.rowData=P},methods:{onGridReady:function(e){this.gridApi=e.api,this.columnApi=e.columnApi,console.log("onGridReady",e)},dataModelChanged:function(e){console.log("dataModelChanged",e)},onSelectionChanged:function(){var e=this.gridApi.getSelectedRows();console.log("selectedRows",e),1===e.length?this.$emit("open-info",e[0]):this.$emit("close-info")},onRowSelected:function(e){console.log(" selected = "+e.node.selected)}}},M=U,T=(n("146f"),Object(v["a"])(M,l,i,!1,null,null,null)),I=T.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout"},[n("div",{staticClass:"header"},[e._v("\n    SSR\n  ")]),n("div",{staticClass:"container"},[n("div",{staticClass:"table"},[e._t("default")],2),e.isOpen?n("div",{staticClass:"info"},[e._t("info")],2):e._e()])])},G=[],V={name:"BaseLayout",props:{isOpen:{type:Boolean}}},L=V,z=(n("d21a"),Object(v["a"])(L,F,G,!1,null,null,null)),J=z.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"info-block"},[n("h2",[e._v("Сотрудник: "+e._s(e.info.employee))]),n("button",{on:{click:e.handleClose}},[e._v("close")]),n("h3",[e._v("Информация по пересмотру")]),n("p",[e._v("\n    Актуальная зп: "+e._s(e._f("salaryFilter")(e.info.salary))+"\n  ")]),n("p",[e._v("\n    Пересмотр зп: "+e._s(e._f("salaryFilter")(e.info.new_salary))+"\n  ")]),e.info.tags.length?n("p",[e._v("\n    Теги: "+e._s(e.info.tags.join(", "))+"\n  ")]):e._e()])},q=[],H={name:"BaseInfo",props:{info:{type:Object}},methods:{handleClose:function(){this.$emit("close-info")}},filters:{salaryFilter:function(e){var t=e.value,n=e.currency;return"".concat(n," ").concat(t)}}},K=H,Q=(n("b7d9"),Object(v["a"])(K,W,q,!1,null,"12dd64cf",null)),X=Q.exports,Y={name:"app",data:function(){return{isOpen:!1,info:null}},methods:{handleOpenInfo:function(e){this.info=e,this.isOpen=!0},handleCloseInfo:function(){this.isOpen=!1,this.info=null}},components:{BaseInfo:X,BaseLayout:J,TableGrid:I}},Z=Y,ee=(n("5c0b"),Object(v["a"])(Z,r,o,!1,null,null,null)),te=ee.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(te)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("e332"),r=n.n(a);r.a},"9b8f":function(e,t,n){},b7d9:function(e,t,n){"use strict";var a=n("fb24"),r=n.n(a);r.a},d21a:function(e,t,n){"use strict";var a=n("e557"),r=n.n(a);r.a},e332:function(e,t,n){},e557:function(e,t,n){},fb24:function(e,t,n){}});
//# sourceMappingURL=app.9ec31779.js.map